<!DOCTYPE html>
<html>
<head>
<title>Consultar Status</title>
</head>
<body>

<h2>Consultar Status do Serviço</h2>
<input id="tel" placeholder="Digite seu WhatsApp">
<button onclick="consultar()">Consultar</button>

<ul id="resultado"></ul>

<script type="module">
import { db } from "./firebase.js";
import {
  collection, query, where, getDocs
} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

async function consultar() {
  const tel = document.getElementById("tel").value;
  const q = query(collection(db, "agendamentos"), where("telefone", "==", tel));
  const snap = await getDocs(q);

  resultado.innerHTML = "";
  snap.forEach(d => {
    const s = d.data();
    resultado.innerHTML += `<li>${s.modelo} — <strong>${s.status}</strong></li>`;
  });
}
</script>

</body>
</html>
